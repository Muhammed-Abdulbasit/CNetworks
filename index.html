<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMQ24CP123"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-YMQ24CP123');
  </script>

  <title>Landing Page</title>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <link rel="stylesheet" href="styles.css">
  <script>
    // Fetch CSRF token on page load
    window.onload = function() {
      fetch('/api/verifyRecaptcha').then(response => response.json()).then(data => {
        document.getElementById('csrfToken').value = data.csrfToken;
      });
    };
  </script>
</head>

<body>
  <header>
    <h1>Landing Page</h1>
  </header>

  <main>
    <p>Computer Networks Project - Muhammed Abdulbasit</p>
  </main>

  <form action="/api/verifyRecaptcha" method="POST">
    <input type="hidden" id="csrfToken" name="csrfToken" value="">
    <label for="email">Enter your email to stay updated:</label>
    <input type="email" id="email" name="email" placeholder="Email address" required>
    
    <div class="g-recaptcha" data-sitekey="6LcwVNsqAAAAAGG3dGkCUJrn2eoYL80G3VI2khim"></div>
    <button type="submit">Subscribe</button>
  </form>
  <div class="image">
  <img src="https://images.unsplash.com/photo-1740676378809-cb2a24feecdb?q=80&w=3132" alt="An image with lazy loading" loading="lazy">
  </div>
</body>
</html>
